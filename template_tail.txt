# Specify the environment and template for the given benchmark (from cmdline args)
env = Environment(loader=FileSystemLoader(f"./{benchmark_family}/{benchmark}/templates"))
template = env.get_template(f"{benchmark}_template.c")

count = 0 # Design counter for naming convention

# Loop through each set of directives for the given benchmark
for directive in directives:
	filename = f"./{benchmark_family}/{benchmark}/src/{benchmark}_{str(count)}.c"
	content = template.render(directive) # render the design (tag substitution)

        # output the deign to the source directory of the benchmark
	with open(filename, mode="w", encoding="utf-8") as output:
		output.write(content)
		print("... wrote", filename)

	count = count + 1

print("\ntemplating complete.")


